## Lession 1 UML

### 类图之间的线
- 继承：实线，子指向父，空心箭头，like "is a"
- 实现：虚线，指向接口，空心箭头。一般实现接口（虚）的方法

- 关联：实线，关系稳定，对象之间有关联。通常一个类中有另外一个类作为属性
- 依赖：虚线。临时用一下，表示使用关系。

- 聚合：空心菱形，一个群体中的一个指聚合。“has a”
- 组合：实心菱形，一个集合中必不可少的一部分指组合。强关系，并有相同的生命周期。“contain a”

### UML时序图

- 同步调用：实线实心箭头
- 异步调用：实线线箭头
- 返回：虚线线箭头

### 类图
#### 第一个框：类名
- 抽象类：斜体
- 接口：两个尖括号，并加interface
#### 第二个框：类的属性
- 前面符号是访问权限控制：+为public，-为private，#为protected，
- 冒号后面指属性的类型
- 属性下面有横线代表static属性 
#### 第三个框：类的行为
- 同上面
- 方法为斜体表示抽象方法

## Lession 2 原则
   根据应用场景选择合适的原则，并不是一定要遵守
### 开闭原则
- 定义：一个软件实体如类／模块／函数指对扩展开放，修改关闭； 用抽象构建框架，用实现扩展细节，为了提高软件的复用性和可维护性。例如：弹性工作制度。


### 依赖倒置
- 定义：高层模块不应该依赖低层模块，两者都应该依赖其抽象。
- 抽象不应该依赖细节，而细节应该依赖抽象。
- 针对接口编程而不是针对实现编程。
- 优点：减小类间的耦合性，提高系统稳定，提高代码可读性和可维护性，降低修改带来的风险。

### 单一职责原则
- 定义：不要存在多个导致类变更的原因。一个类／接口／函数只有一个职责。
- 优点：降低类的复杂度，提高类的可读性和维护性，降低变更的风险。

### 接口隔离原则
- 定义：用多个专用的接口，而不使用单一的总接口，客户端不应该依赖它不需要的接口。
一个类对一个类的依赖建立在最小的接口上。
建立单一接口，不要建立庞大臃肿的接口。
尽量细化接口，接口中的方法尽量少。
- 原则：适度原则
- 优点：符合高内聚低耦合的设计思想，从而使类有很好的可读性，可扩展性和可维护性。

### 迪米特法则（最少知道原则）
- 定义：一个对象对其他对象保持最小的了解。
尽量降低类与类之间的耦合
- 优点：降低类之间的耦合
- 强调只和朋友说话，不和陌生人说话。出现在成员变量，方法的输入、输出参数中的类称为朋友类，而出现在方法体内部的类不属于朋友类。


### 里氏替换原则

### 合成／复用原则


### 简单工厂

- 由一个工厂对象决定创建出哪一种产品类的实例
- 创建型
- 适用场景：负责创建的对象比较少；客户端只知道传入工厂类的参数，对于如何创建对象并不关心。

- 优点：只需要传入一个正确的参数，就可以获取你所需要的对象，而无须知道其创造细节。
- 缺点：职责相对过重，增加新的产品需要修改工厂类的判断逻辑，违背开闭原则。(可以使用反射来弥补）


### 工厂方法
- 定义：定义一个创建对象的接口，但让实现这个接口的类来决定实例化哪个类，工厂方法让类的实例化推迟到子类中进行。 
- 创建型
- 适用场景：创建对象需要大量重复的代码；客户端不依赖于产品类实例如何被创建、实现等细节；一个类通过其子类来指定创建哪个对象
- 优点：用户只需关心所需产品的对应工厂，无须关心创建细节；加入新的产品符合开闭原则，提高可扩展性；
- 缺点：类的个数容易过多，增加复杂度；增加了系统的抽象性和理解难度

### 抽象工厂
- 定义：抽象工厂模式提供一个创建一系列相关或者相互依赖对象的接口
- 无需指定它们具体的类。
- 创建型
- 适用场景：客户端不依赖于产品类实例如何被创建、实现等细节；强调一系列相关产品的对象一起使用创建对象需要大量重复的代码；提供一个产品类的库，所有产品以同样的接口出现，从而使客户端不依赖于具体实现。
- 优点：具体产品在应用层代码隔离，无须关心创建细节；将一系列的产品族统一到一起创建。
- 缺点：规定了所有可能被创建的产品集合，产品族中扩展新的产品困难，需要修改抽象工厂的接口；增加了系统的抽象性和理解难度。

- 产品族和产品等级：见图


### builder

- 定义：将一个复杂对象的构建与它的表示分离，使得同样的构建过程可以创建不同的表示；特征：用户只需要指定需要建造的类型就可以得到它们，建造过程及细节不需要知道。

- 创建者

- 适用场景：如果一个对象有非常复杂的内部结构（很多属性）；把复杂对象的创建和使用分离
- 优点：封装性好，创建和使用分离；扩展性好，建造类之间相互独立，一定程度上解耦

- 缺点：会产生多余的builder对象；产品内部发生变化，建造者都要修改，成本较大


- new skill: 链式

### 单例

- 定义：保证一个类仅有一个实例，并提供一个全局访问点
- 创建型

- 适用场景：确保任何情况下都绝对只有一个实例

- 优点：在内存中只有一个实例减少内存开销；可以避免对资源的多重占用；设置全局访问点，严格控制访问

- 缺点：没有接口，扩展困难

- 重点：私有构造器；线程安全！；延迟加载；序列化和反序列化安全；反射攻击

- 实用工具：反编译；内存原理；多线程debug

- 相关模式：工厂模式；享元模式


